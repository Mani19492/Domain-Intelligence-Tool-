<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Domain Intelligence Tool for analyzing WHOIS data, subdomains, security, and network insights.">
    <meta name="author" content="Domain Intelligence Team">
    <title>Domain Intelligence Tool</title>

    <!-- CSS FILES -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/bootstrap-icons.css" rel="stylesheet">
    <link href="/static/css/templatemo-topic-listing.css" rel="stylesheet">

    <!-- amCharts for map visualization -->
    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/map.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/geodata/worldLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Dark.js"></script>

    <!-- Vis.js for network visualization -->
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>

    <!-- Dark/Metallic/Glass Theme -->
    <style>
        :root {
            --primary-dark: #0a0a0a;
            --secondary-dark: #1a1a1a;
            --tertiary-dark: #2a2a2a;
            --metallic-silver: #c0c0c0;
            --metallic-gold: #d4af37;
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --neon-blue: #00ffff;
            --neon-green: #39ff14;
            --text-light: #e0e0e0;
            --text-muted: #a0a0a0;
        }

        @font-face {
            font-family: 'Critical Mass';
            src: url('/static/fonts/critical-mass-ldr.otf') format('opentype');
            font-weight: normal;
            font-style: normal;
        }

        /* Floating Particles Background */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(57, 255, 20, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(212, 175, 55, 0.05) 0%, transparent 50%);
            z-index: -2;
            pointer-events: none;
        }

        /* Floating Particles */
        .particle {
            position: fixed;
            width: 4px;
            height: 4px;
            background: var(--neon-blue);
            border-radius: 50%;
            pointer-events: none;
            z-index: -1;
            animation: float 6s infinite linear;
            box-shadow: 0 0 6px var(--neon-blue);
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Dark Theme Override */
        body {
            background: var(--primary-dark) !important;
            color: var(--text-light) !important;
            font-family: 'Inter', sans-serif;
        }

        /* Glass Morphism Effects */
        .glass-effect {
            background: var(--glass-bg) !important;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border) !important;
            border-radius: 15px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        /* Navigation */
        .navbar {
            background: var(--glass-bg) !important;
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border) !important;
        }

        .navbar-brand {
            color: var(--metallic-silver) !important;
            font-family: 'Orbitron', monospace;
            font-weight: 700;
        }

        .navbar-nav .nav-link {
            color: var(--text-light) !important;
            transition: all 0.3s ease;
        }

        .navbar-nav .nav-link:hover {
            color: var(--neon-blue) !important;
            text-shadow: 0 0 10px var(--neon-blue);
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--secondary-dark) 100%) !important;
            position: relative;
            overflow: hidden;
        }

        .hero-section h1 {
            font-family: 'Orbitron', monospace;
            font-weight: 900;
            background: linear-gradient(45deg, var(--metallic-silver), var(--metallic-gold), var(--metallic-silver));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .hero-section h6 {
            color: var(--text-muted) !important;
        }

        /* Search Form */
        .custom-form .input-group {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 50px;
            padding: 5px;
            backdrop-filter: blur(10px);
        }

        .custom-form input {
            background: transparent !important;
            border: none !important;
            color: var(--text-light) !important;
        }

        .custom-form input::placeholder {
            color: var(--text-muted) !important;
        }

        .custom-form button {
            background: linear-gradient(45deg, var(--neon-blue), var(--neon-green)) !important;
            border: none !important;
            border-radius: 45px !important;
            color: var(--primary-dark) !important;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .custom-form button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 255, 255, 0.4);
        }

        /* Custom Blocks */
        .custom-block {
            background: var(--glass-bg) !important;
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border) !important;
            border-radius: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .custom-block:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            border-color: var(--neon-blue) !important;
        }

        .custom-block h5 {
            color: var(--metallic-silver) !important;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
        }

        .custom-block p {
            color: var(--text-muted) !important;
        }

        /* Section Overlays */
        .section-overlay {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1) 0%, rgba(57, 255, 20, 0.1) 100%) !important;
        }

        /* Featured Section */
        .featured-section {
            background: var(--secondary-dark) !important;
        }

        /* Tabs */
        .nav-tabs {
            border-bottom: 1px solid var(--glass-border) !important;
        }

        .nav-tabs .nav-link {
            background: var(--glass-bg) !important;
            border: 1px solid var(--glass-border) !important;
            color: var(--text-light) !important;
            margin-right: 10px;
            border-radius: 10px 10px 0 0;
            backdrop-filter: blur(10px);
        }

        .nav-tabs .nav-link.active {
            background: var(--neon-blue) !important;
            color: var(--primary-dark) !important;
            border-color: var(--neon-blue) !important;
        }

        .tab-content {
            background: var(--glass-bg) !important;
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border) !important;
            border-radius: 0 15px 15px 15px;
        }

        /* Timeline */
        .timeline-section {
            background: var(--secondary-dark) !important;
        }

        .timeline-container .vertical-scrollable-timeline li h4 {
            color: var(--metallic-gold) !important;
            font-family: 'Orbitron', monospace;
        }

        .timeline-container .vertical-scrollable-timeline li p {
            color: var(--text-light) !important;
        }

        .timeline-container .vertical-scrollable-timeline li .icon-holder {
            background: var(--neon-blue) !important;
            box-shadow: 0 0 20px var(--neon-blue);
        }

        /* Report Sections */
        .report-section {
            background: var(--glass-bg) !important;
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border) !important;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .report-section h3 {
            color: var(--metallic-gold) !important;
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            border-bottom: 2px solid var(--neon-blue);
            padding-bottom: 10px;
        }

        .report-section table {
            background: rgba(0, 0, 0, 0.3) !important;
            backdrop-filter: blur(10px);
            border-radius: 10px;
            overflow: hidden;
        }

        .report-section table th {
            background: var(--neon-blue) !important;
            color: var(--primary-dark) !important;
            font-weight: 600;
            border: none !important;
        }

        .report-section table td {
            background: var(--glass-bg) !important;
            color: var(--text-light) !important;
            border: 1px solid var(--glass-border) !important;
        }

        .report-section ul li {
            color: var(--text-light) !important;
            background: var(--glass-bg);
            margin: 5px 0;
            padding: 8px 15px;
            border-radius: 8px;
            border-left: 3px solid var(--neon-green);
        }

        /* Map Container */
        #chartdiv {
            width: 100%;
            height: 500px;
            max-width: 100%;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            backdrop-filter: blur(15px);
        }

        /* Network Graph */
        #tracerouteGraph, #networkGraph {
            background: var(--glass-bg) !important;
            border: 1px solid var(--glass-border) !important;
            border-radius: 15px;
            backdrop-filter: blur(15px);
        }

        /* Loading and Error States */
        .loading {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            color: var(--text-light) !important;
            padding: 40px;
            text-align: center;
        }

        .loading::after {
            content: "";
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--glass-border);
            border-radius: 50%;
            border-top-color: var(--neon-blue);
            animation: spin 1s ease-in-out infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .error {
            background: rgba(255, 0, 0, 0.1) !important;
            border: 1px solid rgba(255, 0, 0, 0.3) !important;
            color: #ff6b6b !important;
            backdrop-filter: blur(15px);
            border-radius: 15px;
        }

        /* Download Button */
        .download-btn {
            background: linear-gradient(45deg, var(--metallic-silver), var(--metallic-gold)) !important;
            border: none !important;
            border-radius: 50px !important;
            color: var(--primary-dark) !important;
            font-weight: 600;
            padding: 15px 30px;
            font-size: 1.1em;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }

        .download-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.5);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 2.5rem;
            }
            
            .custom-block {
                margin-bottom: 20px;
            }
            
            #chartdiv {
                height: 300px;
            }
        }

        /* Status Badges */
        .status-secure {
            background: rgba(57, 255, 20, 0.2);
            color: var(--neon-green);
            border: 1px solid var(--neon-green);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8em;
        }

        .status-warning {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
            border: 1px solid #ffc107;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8em;
        }

        .status-danger {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
            border: 1px solid #dc3545;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8em;
        }
    </style>
</head>
<body id="top">
    <!-- Floating Particles -->
    <script>
        // Create floating particles
        for (let i = 0; i < 50; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 6 + 's';
            particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
            document.body.appendChild(particle);
        }
    </script>

    <main>
        <nav class="navbar navbar-expand-lg sticky-top">
            <div class="container">
                <a class="navbar-brand" href="/">
                    <img src="/static/images/logo/domain.png" alt="Domain Intelligence Tool Logo" class="logo-img" style="height: 60px; width: auto; vertical-align: middle; margin-right: 10px;">
                    <span style="font-size: 0.8em;">Domain Intelligence Tool</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-lg-5 me-lg-auto">
                        <li class="nav-item">
                            <a class="nav-link click-scroll" href="#section_1">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link click-scroll" href="#section_2">Domain Insights</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link click-scroll" href="#section_3">How It Works</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/logout">Sign Out</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <section class="hero-section d-flex justify-content-center align-items-center" id="section_1">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-12 mx-auto">
                        <h1 class="text-center">Domain Intelligence Tool</h1>
                        <h6 class="text-center">Comprehensive analysis of domains with WHOIS, subdomain, security, and network insights.</h6>
                        <form method="post" class="custom-form mt-4 pt-2 mb-lg-0 mb-5" role="search" id="domainSearchForm">
                            <div class="input-group input-group-lg">
                                <span class="input-group-text bi-search" id="basic-addon1"></span>
                                <input name="domain" type="search" class="form-control" id="domainInput" placeholder="Enter domain (e.g., example.com)" aria-label="Search">
                                <button type="submit" class="form-control">Analyze</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <section class="featured-section">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-4 col-12 mb-4 mb-lg-0">
                        <div class="custom-block glass-effect">
                            <a href="#section_2">
                                <div class="d-flex">
                                    <div>
                                        <h5 class="mb-2">WHOIS Analysis</h5>
                                        <p class="mb-0">Access detailed domain ownership, registrar, and registration data instantly.</p>
                                    </div>
                                </div>
                                <img src="/static/images/topics/image-removebg-preview (6).png" class="custom-block-image img-fluid" alt="WHOIS Analysis" style="height: 290px; width: auto; vertical-align: middle;">
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-6 col-12">
                        <div class="custom-block custom-block-overlay glass-effect">
                            <div class="d-flex flex-column h-100">
                                <img src="/static/images/topics/Domain Ownership.png" class="custom-block-image img-fluid" alt="Security Insights">
                                <div class="custom-block-overlay-text d-flex">
                                    <div>
                                        <h5 class="text-white mb-2">Security Insights</h5>
                                        <p class="text-white">Evaluate SSL certificates, security headers, and vulnerabilities for any domain.</p>
                                        <a href="#section_2" class="btn custom-btn mt-2 mt-lg-3">Learn More</a>
                                    </div>
                                </div>
                                <div class="social-share d-flex">
                                    <p class="text-white me-4">Share:</p>
                                    <ul class="social-icon">
                                        <li class="social-icon-item">
                                            <a href="https://twitter.com/intent/tweet?text=Check%20out%20this%20Domain%20Intelligence%20Tool!" class="social-icon-link bi-twitter"></a>
                                        </li>
                                        <li class="social-icon-item">
                                            <a href="https://www.facebook.com/sharer/sharer.php?u=https://yourdomain.com" class="social-icon-link bi-facebook"></a>
                                        </li>
                                        <li class="social-icon-item">
                                            <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://yourdomain.com" class="social-icon-link bi-linkedin"></a>
                                        </li>
                                    </ul>
                                    <a href="#" class="custom-icon bi-bookmark ms-auto"></a>
                                </div>
                                <div class="section-overlay"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="explore-section section-padding" id="section_2">
            <div class="container">
                <div class="row">
                    <div class="col-12 text-center">
                        <h2 class="mb-4" style="color: var(--metallic-gold); font-family: 'Orbitron', monospace;">Explore Domain Insights</h2>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row">
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="whois-tab" data-bs-toggle="tab" data-bs-target="#whois-tab-pane" type="button" role="tab" aria-controls="whois-tab-pane" aria-selected="true">WHOIS Data</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="subdomains-tab" data-bs-toggle="tab" data-bs-target="#subdomains-tab-pane" type="button" role="tab" aria-controls="subdomains-tab-pane" aria-selected="false">Subdomains</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="security-tab" data-bs-toggle="tab" data-bs-target="#security-tab-pane" type="button" role="tab" aria-controls="security-tab-pane" aria-selected="false">Security</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="network-tab" data-bs-toggle="tab" data-bs-target="#network-tab-pane" type="button" role="tab" aria-controls="network-tab-pane" aria-selected="false">Network Analysis</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="technologies-tab" data-bs-toggle="tab" data-bs-target="#technologies-tab-pane" type="button" role="tab" aria-controls="technologies-tab-pane" aria-selected="false">Technologies</button>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade show active" id="whois-tab-pane" role="tabpanel" aria-labelledby="whois-tab" tabindex="0">
                                <div class="row">
                                    <div class="col-lg-4 col-md-6 col-12 mb-4 mb-lg-0">
                                        <div class="custom-block glass-effect">
                                            <a href="#section_2">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Domain Ownership</h5>
                                                        <p class="mb-0">Access registrant, admin, and contact details.</p>
                                                    </div>
                                                </div>
                                                <img src="/static/images/topics/Domain Ownership.png" class="custom-block-image img-fluid" alt="Domain Ownership" style="height: 200px; width: auto; vertical-align: middle; margin-right: 10px;">
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6 col-12 mb-4 mb-lg-0">
                                        <div class="custom-block glass-effect">
                                            <a href="#section_2">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Registrar Info</h5>
                                                        <p class="mb-0">View registrar details and domain status.</p>
                                                    </div>
                                                </div>
                                                <img src="/static/images/topics/Registrar Info.png" class="custom-block-image img-fluid" alt="Registrar Info" style="height: 280px; width: auto; vertical-align: middle; margin-right: 10px;">
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6 col-12">
                                        <div class="custom-block glass-effect">
                                            <a href="#section_2">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Registration Dates</h5>
                                                        <p class="mb-0">Check creation, update, and expiration dates.</p>
                                                    </div>
                                                </div>
                                                <img src="/static/images/topics/Registration Dates.png" class="custom-block-image img-fluid" alt="Registration Dates" style="height: 260px; width: auto; vertical-align: middle; margin-right: 10px;">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="subdomains-tab-pane" role="tabpanel" aria-labelledby="subdomains-tab" tabindex="0">
                                <div class="row">
                                    <div class="col-lg-4 col-md-6 col-12 mb-4 mb-lg-3">
                                        <div class="custom-block glass-effect">
                                            <a href="#section_2">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Active Subdomains</h5>
                                                        <p class="mb-0">Discover all active subdomains for a domain.</p>
                                                    </div>
                                                </div>
                                                <img src="/static/images/topics/Active Subdomains.png" class="custom-block-image img-fluid" alt="Active Subdomains" style="height: 260px; width: auto; vertical-align: middle; margin-right: 10px;">
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6 col-12 mb-4 mb-lg-3">
                                        <div class="custom-block glass-effect">
                                            <a href="#section_2">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Subdomain Activity</h5>
                                                        <p class="mb-0">Monitor recent changes and subdomain activity.</p>
                                                    </div>
                                                </div>
                                                <img src="/static/images/topics/Subdomain Activity.png" class="custom-block-image img-fluid" alt="Subdomain Activity" style="height: 260px; width: auto; vertical-align: middle; margin-right: 10px;">
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6 col-12">
                                        <div class="custom-block glass-effect">
                                            <a href="#section_2">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Subdomain Mapping</h5>
                                                        <p class="mb-0">Map subdomains to their IP addresses.</p>
                                                    </div>
                                                </div>
                                                <img src="/static/images/topics/Subdomain Mapping.png" class="custom-block-image img-fluid" alt="Subdomain Mapping" style="height: 260px; width: auto; vertical-align: middle; margin-right: 10px;">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="security-tab-pane" role="tabpanel" aria-labelledby="security-tab" tabindex="0">
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-12 mb-4 mb-lg-0">
                                        <div class="custom-block glass-effect">
                                            <a href="#section_2">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">SSL Certificates</h5>
                                                        <p class="mb-0">Review SSL/TLS certificate details and validity.</p>
                                                    </div>
                                                </div>
                                                <img src="/static/images/topics/SSL Certificates.png" class="custom-block-image img-fluid" alt="SSL Certificates" style="height: 280px; width: auto; vertical-align: middle; margin-left: 100px;">
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-12">
                                        <div class="custom-block custom-block-overlay glass-effect">
                                            <div class="d-flex flex-column h-100">
                                                <img src="/static/images/topics/Security Headers.png" class="custom-block-image img-fluid" alt="Security Analysis" style="height: 260px; width: auto; vertical-align: middle; margin-top: 32.8%;">
                                                <div class="custom-block-overlay-text d-flex">
                                                    <div>
                                                        <h5 class="text-white mb-2">Security Headers</h5>
                                                        <p class="text-white">Check HTTP headers like CSP, HSTS, and X-Frame-Options.</p>
                                                        <a href="#section_2" class="btn custom-btn mt-2 mt-lg-3">Learn More</a>
                                                    </div>
                                                </div>
                                                <div class="social-share d-flex">
                                                    <p class="text-white me-4">Share:</p>
                                                    <ul class="social-icon">
                                                        <li class="social-icon-item">
                                                            <a href="https://twitter.com/intent/tweet?text=Check%20out%20this%20Domain%20Intelligence%20Tool!" class="social-icon-link bi-twitter"></a>
                                                        </li>
                                                        <li class="social-icon-item">
                                                            <a href="https://www.facebook.com/sharer/sharer.php?u=https://yourdomain.com" class="social-icon-link bi-facebook"></a>
                                                        </li>
                                                        <li class="social-icon-item">
                                                            <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://yourdomain.com" class="social-icon-link bi-linkedin"></a>
                                                        </li>
                                                    </ul>
                                                    <a href="#" class="custom-icon bi-bookmark ms-auto"></a>
                                                </div>
                                                <div class="section-overlay"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="network-tab-pane" role="tabpanel" aria-labelledby="network-tab" tabindex="0">
                                <div class="row">
                                    <div class="col-lg-4 col-md-6 col-12 mb-4 mb-lg-3">
                                        <div class="custom-block glass-effect">
                                            <a href="#section_2">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">DNS Records</h5>
                                                        <p class="mb-0">Explore A, MX, TXT, and other DNS records.</p>
                                                    </div>
                                                </div>
                                                <img src="/static/images/topics/DNS Records.png" class="custom-block-image img-fluid" alt="DNS Records">
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6 col-12 mb-4 mb-lg-3">
                                        <div class="custom-block glass-effect">
                                            <a href="#section_2">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Traceroute</h5>
                                                        <p class="mb-0">Analyze network paths and latency.</p>
                                                    </div>
                                                </div>
                                                <img src="/static/images/topics/Traceroute.png" class="custom-block-image img-fluid" alt="Traceroute" style="height: 180px; width: auto; vertical-align: middle; margin-right: 10px;">
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6 col-12">
                                        <div class="custom-block glass-effect">
                                            <a href="#section_2">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Open Ports</h5>
                                                        <p class="mb-0">Identify open ports and running services.</p>
                                                    </div>
                                                </div>
                                                <img src="/static/images/topics/Open Ports.png" class="custom-block-image img-fluid" alt="Open Ports">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="technologies-tab-pane" role="tabpanel" aria-labelledby="technologies-tab" tabindex="0">
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-12 mb-4 mb-lg-3">
                                        <div class="custom-block glass-effect">
                                            <a href="#section_2">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Web Technologies</h5>
                                                        <p class="mb-0">Detect CMS, frameworks, and libraries in use.</p>
                                                    </div>
                                                </div>
                                                <img src="/static/images/topics/Web Technologies.png" class="custom-block-image img-fluid" alt="Web Technologies">
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-12">
                                        <div class="custom-block glass-effect">
                                            <a href="#section_2">
                                                <div class="d-flex">
                                                    <div>
                                                        <h5 class="mb-2">Server Software</h5>
                                                        <p class="mb-0">Identify server software and version details.</p>
                                                    </div>
                                                </div>
                                                <img src="/static/images/topics/Server Software.png" class="custom-block-image img-fluid" alt="Server Software" style="height: 260px; width: auto; vertical-align: middle; margin-right: 10px; margin-left: 60px;">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="timeline-section section-padding" id="section_3">
            <div class="section-overlay"></div>
            <div class="container">
                <div class="row">
                    <div class="col-12 text-center">
                        <h2 class="text-white mb-3" style="font-family: 'Orbitron', monospace;">How Domain Intelligence Works</h2>
                    </div>
                    <div class="col-lg-10 col-12 mx-auto">
                        <div class="timeline-container">
                            <ul class="vertical-scrollable-timeline" id="vertical-vertical-timeline">
                                <div class="list-progress">
                                    <div class="inner"></div>
                                </div>
                                <li>
                                    <h4 class="text-white mb-3">Enter a Domain</h4>
                                    <p class="text-white">Input any domain name into our search bar to begin analyzing its details.</p>
                                    <div class="icon-holder">
                                        <i class="bi bi-search"></i>
                                    </div>
                                </li>
                                <li>
                                    <h4 class="text-white mb-3">Review Insights</h4>
                                    <p class="text-white">Access comprehensive reports on WHOIS, subdomains, security, and network data.</p>
                                    <div class="icon-holder">
                                        <i class="bi bi-eye"></i>
                                    </div>
                                </li>
                                <li>
                                    <h4 class="text-white mb-3">Take Action</h4>
                                    <p class="text-white">Use insights for cybersecurity, compliance, or competitive analysis.</p>
                                    <div class="icon-holder">
                                        <i class="bi bi-gear"></i>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Report Section (Hidden by default) -->
        <section class="report-section" id="reportSection" style="display: none;">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="text-center mb-4">
                            <h1 id="reportTitle" style="color: var(--metallic-gold); font-family: 'Orbitron', monospace;"></h1>
                            <button class="btn download-btn mt-3" id="downloadBtn">
                                <i class="bi bi-download me-2"></i>Download PDF Report
                            </button>
                        </div>
                        <div id="reportContent"></div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- JAVASCRIPT -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/jquery.sticky.js"></script>
    <script src="/static/js/click-scroll.js"></script>
    <script src="/static/js/custom.js"></script>
    <script src="/static/js/sloader.js"></script>

    <script>
        // Global variables
        let currentDomain = '';
        let currentData = null;
        let worldMap = null;

        // Validate domain input
        function isValidDomain(domain) {
            const domainRegex = /^(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,})$/;
            return domainRegex.test(domain);
        }

        // Handle form submission
        document.getElementById('domainSearchForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const domainInput = document.getElementById('domainInput');
            const domain = domainInput.value.trim().toLowerCase();
            
            if (!domain) {
                alert('Please enter a domain to analyze.');
                return;
            }
            
            if (!isValidDomain(domain)) {
                alert('Please enter a valid domain (e.g., example.com).');
                return;
            }

            currentDomain = domain;
            await analyzeDomain(domain);
        });

        // Analyze domain function
        async function analyzeDomain(domain) {
            try {
                // Show loading state
                showLoading(domain);
                
                // Fetch data from API
                const response = await fetch('/analyze', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ domain: domain })
                });

                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }

                const data = await response.json();
                
                if (data.error) {
                    throw new Error(data.error);
                }

                currentData = data;
                displayReport(data);
                
            } catch (error) {
                console.error('Error:', error);
                showError(error.message);
            }
        }

        // Show loading state
        function showLoading(domain) {
            const reportSection = document.getElementById('reportSection');
            const reportContent = document.getElementById('reportContent');
            const reportTitle = document.getElementById('reportTitle');
            
            reportTitle.textContent = `Analyzing ${domain}...`;
            reportContent.innerHTML = `
                <div class="loading">
                    <h3>Loading comprehensive analysis for ${domain}</h3>
                    <p>This may take a few moments as we gather data from multiple sources...</p>
                </div>
            `;
            
            reportSection.style.display = 'block';
            reportSection.scrollIntoView({ behavior: 'smooth' });
        }

        // Show error state
        function showError(message) {
            const reportContent = document.getElementById('reportContent');
            const reportTitle = document.getElementById('reportTitle');
            
            reportTitle.textContent = 'Analysis Error';
            reportContent.innerHTML = `
                <div class="error">
                    <h3>Error occurred during analysis</h3>
                    <p>${message}</p>
                    <button class="btn btn-primary mt-3" onclick="location.reload()">Try Again</button>
                </div>
            `;
        }

        // Function to safely render data
        function safeRender(value) {
            if (value == null || value === undefined) return 'N/A';
            if (typeof value === 'object') return JSON.stringify(value);
            return String(value).replace(/</g, '&lt;').replace(/>/g, '&gt;');
        }

        // Display report function
        function displayReport(data) {
            const reportTitle = document.getElementById('reportTitle');
            const reportContent = document.getElementById('reportContent');
            
            reportTitle.textContent = `Domain Analysis Report: ${data.domain}`;
            
            let html = `
                <!-- Domain Overview -->
                <div class="report-section glass-effect">
                    <h3><i class="bi bi-globe me-2"></i>Domain Overview</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <table class="table table-dark">
                                <tr><th>Domain</th><td>${safeRender(data.domain)}</td></tr>
                                <tr><th>Status</th><td><span class="status-secure">Active</span></td></tr>
                                <tr><th>Analysis Date</th><td>${new Date().toLocaleString()}</td></tr>
                            </table>
                        </div>
                        <div class="col-md-6">
                            <div id="chartdiv"></div>
                        </div>
                    </div>
                </div>

                <!-- IP Addresses & Geolocation -->
                <div class="report-section glass-effect">
                    <h3><i class="bi bi-geo-alt me-2"></i>IP Addresses & Geolocation</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <h5>IP Addresses</h5>
                            <table class="table table-dark">
                                <thead><tr><th>IP Address</th><th>Type</th></tr></thead>
                                <tbody>
                                    ${data.ip_addresses ? data.ip_addresses.map(ip => `
                                        <tr><td>${safeRender(ip)}</td><td>IPv4</td></tr>
                                    `).join('') : '<tr><td colspan="2">No IP addresses found</td></tr>'}
                                </tbody>
                            </table>
                        </div>
                        <div class="col-md-6">
                            <h5>Geolocation Data</h5>
                            <table class="table table-dark">
                                <thead><tr><th>IP</th><th>Country</th><th>City</th><th>ISP</th></tr></thead>
                                <tbody>
                                    ${data.geolocation ? data.geolocation.map(geo => `
                                        <tr>
                                            <td>${safeRender(geo.ip)}</td>
                                            <td>${safeRender(geo.country)}</td>
                                            <td>${safeRender(geo.city)}</td>
                                            <td>${safeRender(geo.org)}</td>
                                        </tr>
                                    `).join('') : '<tr><td colspan="4">No geolocation data available</td></tr>'}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- WHOIS Information -->
                <div class="report-section glass-effect">
                    <h3><i class="bi bi-info-circle me-2"></i>WHOIS Information</h3>
                    <table class="table table-dark">
                        <tr><th>Registrar</th><td>${safeRender(data.whois_info?.registrar)}</td></tr>
                        <tr><th>Creation Date</th><td>${safeRender(data.whois_info?.creation_date)}</td></tr>
                        <tr><th>Expiration Date</th><td>${safeRender(data.whois_info?.expiration_date)}</td></tr>
                        <tr><th>Name Servers</th><td>${data.whois_info?.name_servers ? data.whois_info.name_servers.join(', ') : 'N/A'}</td></tr>
                        <tr><th>Status</th><td>${safeRender(data.whois_info?.status)}</td></tr>
                    </table>
                </div>

                <!-- DNS Records -->
                <div class="report-section glass-effect">
                    <h3><i class="bi bi-dns me-2"></i>DNS Records</h3>
                    <div class="row">
                        ${Object.entries(data.dns_records || {}).map(([type, records]) => `
                            <div class="col-md-6 mb-3">
                                <h5>${type} Records</h5>
                                <ul>
                                    ${Array.isArray(records) ? records.map(record => `<li>${safeRender(record)}</li>`).join('') : '<li>No records found</li>'}
                                </ul>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- Subdomains -->
                <div class="report-section glass-effect">
                    <h3><i class="bi bi-diagram-3 me-2"></i>Subdomains</h3>
                    <div class="row">
                        <div class="col-12">
                            <ul>
                                ${data.subdomains && data.subdomains.length ? data.subdomains.map(sub => `<li>${safeRender(sub)}</li>`).join('') : '<li>No subdomains found</li>'}
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- SSL Certificate -->
                <div class="report-section glass-effect">
                    <h3><i class="bi bi-shield-check me-2"></i>SSL Certificate</h3>
                    <table class="table table-dark">
                        <tr><th>Subject</th><td>${data.ssl_info?.subject ? JSON.stringify(data.ssl_info.subject) : 'N/A'}</td></tr>
                        <tr><th>Issuer</th><td>${data.ssl_info?.issuer ? JSON.stringify(data.ssl_info.issuer) : 'N/A'}</td></tr>
                        <tr><th>Valid From</th><td>${safeRender(data.ssl_info?.not_before)}</td></tr>
                        <tr><th>Valid Until</th><td>${safeRender(data.ssl_info?.not_after)}</td></tr>
                        <tr><th>Serial Number</th><td>${safeRender(data.ssl_info?.serial_number)}</td></tr>
                    </table>
                </div>

                <!-- Open Ports -->
                <div class="report-section glass-effect">
                    <h3><i class="bi bi-door-open me-2"></i>Open Ports</h3>
                    <table class="table table-dark">
                        <thead><tr><th>IP</th><th>Port</th><th>Service</th><th>Version</th></tr></thead>
                        <tbody>
                            ${data.open_ports && data.open_ports.length ? data.open_ports.map(port => `
                                <tr>
                                    <td>${safeRender(port.ip)}</td>
                                    <td>${safeRender(port.port)}</td>
                                    <td>${safeRender(port.service)}</td>
                                    <td>${safeRender(port.version)}</td>
                                </tr>
                            `).join('') : '<tr><td colspan="4">No open ports detected</td></tr>'}
                        </tbody>
                    </table>
                </div>

                <!-- Security Headers -->
                <div class="report-section glass-effect">
                    <h3><i class="bi bi-shield-lock me-2"></i>Security Headers</h3>
                    <table class="table table-dark">
                        ${Object.entries(data.security_headers || {}).map(([header, value]) => `
                            <tr>
                                <th>${header}</th>
                                <td>
                                    ${value === 'Not Set' ? '<span class="status-danger">Not Set</span>' : `<span class="status-secure">${safeRender(value)}</span>`}
                                </td>
                            </tr>
                        `).join('')}
                    </table>
                </div>

                <!-- Technologies -->
                <div class="report-section glass-effect">
                    <h3><i class="bi bi-gear me-2"></i>Detected Technologies</h3>
                    <ul>
                        ${data.technologies && data.technologies.length ? data.technologies.map(tech => `<li>${safeRender(tech)}</li>`).join('') : '<li>No technologies detected</li>'}
                    </ul>
                </div>

                <!-- Network Topology -->
                <div class="report-section glass-effect">
                    <h3><i class="bi bi-diagram-2 me-2"></i>Network Topology</h3>
                    <div id="networkGraph" style="height: 400px;"></div>
                </div>
            `;
            
            reportContent.innerHTML = html;
            
            // Initialize visualizations
            setTimeout(() => {
                initializeMap(data);
                initializeNetworkGraph(data);
            }, 100);
        }

        // Initialize world map
        function initializeMap(data) {
            if (!data.geolocation || !data.geolocation.length) return;

            // Create root element
            const root = am5.Root.new("chartdiv");

            // Set themes
            root.setThemes([
                am5themes_Animated.new(root),
                am5themes_Dark.new(root)
            ]);

            // Create the map chart
            const chart = root.container.children.push(am5map.MapChart.new(root, {
                panX: "rotateX",
                panY: "rotateY",
                projection: am5map.geoOrthographic(),
                paddingBottom: 20,
                paddingTop: 20,
                paddingLeft: 20,
                paddingRight: 20
            }));

            // Create main polygon series for countries
            const polygonSeries = chart.series.push(am5map.MapPolygonSeries.new(root, {
                geoJSON: am5geodata_worldLow
            }));

            polygonSeries.mapPolygons.template.setAll({
                tooltipText: "{name}",
                toggleKey: "active",
                interactive: true,
                fill: am5.color("#2a2a2a")
            });

            polygonSeries.mapPolygons.template.states.create("hover", {
                fill: am5.color("#00ffff")
            });

            // Create series for background fill
            const backgroundSeries = chart.series.push(am5map.MapPolygonSeries.new(root, {}));
            backgroundSeries.mapPolygons.template.setAll({
                fill: am5.color("#0a0a0a"),
                fillOpacity: 0.8,
                strokeOpacity: 0
            });
            backgroundSeries.data.push({
                geometry: am5map.getGeoRectangle(90, 180, -90, -180)
            });

            // Add graticule
            const graticuleSeries = chart.series.unshift(
                am5map.GraticuleSeries.new(root, {
                    step: 10
                })
            );
            graticuleSeries.mapLines.template.set("strokeOpacity", 0.1);

            // Add point series for locations
            const pointSeries = chart.series.push(am5map.MapPointSeries.new(root, {}));
            pointSeries.bullets.push(function() {
                const circle = am5.Circle.new(root, {
                    radius: 8,
                    tooltipText: "{title}",
                    fill: am5.color("#39ff14"),
                    stroke: am5.color("#00ffff"),
                    strokeWidth: 2
                });

                return am5.Bullet.new(root, {
                    sprite: circle
                });
            });

            // Add location data
            const locationData = data.geolocation.map(geo => ({
                geometry: { type: "Point", coordinates: [geo.longitude, geo.latitude] },
                title: `${geo.ip}\n${geo.city}, ${geo.country}\n${geo.org}`
            }));

            pointSeries.data.setAll(locationData);

            // Make stuff animate on load
            chart.appear(1000, 100);

            // Store reference
            worldMap = chart;
        }

        // Initialize network graph
        function initializeNetworkGraph(data) {
            if (!data.network_map || !data.network_map.nodes) return;

            const container = document.getElementById('networkGraph');
            if (!container) return;

            const nodes = new vis.DataSet(data.network_map.nodes.map(node => ({
                ...node,
                color: {
                    background: node.color,
                    border: '#00ffff',
                    highlight: {
                        background: '#39ff14',
                        border: '#00ffff'
                    }
                },
                font: { color: '#e0e0e0' }
            })));

            const edges = new vis.DataSet(data.network_map.edges.map(edge => ({
                ...edge,
                color: { color: '#00ffff' },
                font: { color: '#e0e0e0' }
            })));

            const graphData = { nodes: nodes, edges: edges };
            
            const options = {
                layout: {
                    hierarchical: {
                        direction: 'UD',
                        sortMethod: 'directed'
                    }
                },
                edges: {
                    arrows: 'to',
                    color: '#00ffff'
                },
                nodes: {
                    shape: 'dot',
                    size: 20,
                    font: {
                        size: 14,
                        color: '#e0e0e0'
                    }
                },
                physics: {
                    enabled: true,
                    stabilization: { iterations: 100 }
                }
            };

            new vis.Network(container, graphData, options);
        }

        // Download PDF report
        document.getElementById('downloadBtn').addEventListener('click', function() {
            if (currentDomain) {
                window.open(`/download_report/${encodeURIComponent(currentDomain)}`, '_blank');
            }
        });

        // Load report if on report route
        window.addEventListener('load', () => {
            const path = window.location.pathname;
            const reportMatch = path.match(/^\/report\/(.+)/);
            if (reportMatch) {
                const domain = decodeURIComponent(reportMatch[1]);
                document.getElementById('domainInput').value = domain;
                analyzeDomain(domain);
            }
        });
    </script>
</body>
</html>